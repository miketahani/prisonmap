<!DOCTYPE html>
<html>
    <head>
        <title>Prisonmaps</title>
        <script src="assets/js/polymaps.js"></script>
    </head>
    <style>
        path {
            stroke: #fff;
        }
        circle {
            opacity: 0.5;
        }
    </style>

    <body>

        <div id="map"></div>

        <script>

            var po = org.polymaps;

            var map = po.map()
                .container(document.getElementById("map").appendChild(po.svg("svg")))
                .zoom(5)
                .add(po.hash())
                .add(po.interact())
                .add(po.compass());

            map.add(po.geoJson().url("assets/data/clean_prisons.json").on("load", load));

            // just make life easier and do styling with D3
            function load(e) {
                for (var i=0; i < e.features.length; i++) {
                    feature = e.features[i];
                    feature.element.setAttribute("r", 10);
                }
            }


        </script>
    </body>
</html>